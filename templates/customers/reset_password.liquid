{{- 'customer.css' | asset_url | stylesheet_tag -}}
{{- 'component-form-elements.css' | asset_url | stylesheet_tag -}}

<script src="{{- 'form-validation.js' | asset_url -}}" defer></script>

<div class="customer">
  <div class="customer__inner">
    <div class="form-customer form-customer--reset">
      <div class="form__inner">
        <div class="form__content form__content--wide">
          <div class="form__head center">
            <h1 class="h3 mb-xs mb-s mt-0 form__title color-headings">
              {{- 'customer.reset_password.title' | t -}}
            </h1><!-- /.h3 form__title -->

            <p class="form__subtitle p3 mt-0 color-paragraphs">
              {{- 'customer.reset_password.subtitle' | t -}}
            </p><!-- /.form__subtitle -->
          </div><!-- /.form__head center -->

          <div class="form__body mt-m mb-m mt-l--large mb-l--large">
            <form-validation>
              {%- form 'reset_customer_password' -%}
                {%- if form.errors -%}
                  <div class="color-red">
                    {{- form.errors | default_errors -}}
                  </div><!-- /.color-red -->
                {%- endif -%}

                <div class="form-row">
                  {%-
                    liquid
                    assign label = 'customer.reset_password.password' | t
                    assign placeholder = 'customer.reset_password.password_placeholder' | t
                    assign error = ''
                    assign has_error = false
                    assign attr = 'autocomplete="new-password" minlength="5"'
                    if form.errors contains 'password'
                      assign error = form.errors.translated_fields['password'] | capitalize | append: ' ' | append: form.errors.messages['password']
                      assign has_error = true
                    endif
                    render 'text-input', id: 'password', label: label, type: 'password', name: 'customer[password]', placeholder: placeholder, attr: attr, message: error, has_error: has_error, required: true
                    assign label = nil
                    assign placeholder = nil
                    assign attr = nil
                    assign error = nil
                    assign has_error = nil
                  -%}
                </div><!-- /.form-row -->

                <div class="form-row">
                  {%-
                    liquid
                    assign label = 'customer.reset_password.password_confirm' | t
                    assign placeholder = 'customer.reset_password.password_confirm_placeholder' | t
                    assign error = ''
                    assign has_error = false
                    assign attr = 'autocomplete="new-password" minlength="5"'
                    if form.errors contains 'password'
                      assign error = form.errors.translated_fields['password_confirmation'] | capitalize | append: ' ' | append: form.errors.messages['password_confirmation']
                      assign has_error = true
                    endif
                    render 'text-input', id: 'password', label: label, type: 'password', name: 'customer[password_confirmation]', placeholder: placeholder, attr: attr, message: error, has_error: has_error, required: true
                    assign label = nil
                    assign placeholder = nil
                    assign attr = nil
                    assign error = nil
                    assign has_error = nil
                  -%}
                </div><!-- /.form-row -->

                <div class="form__actions flex flex--justify-center mt-xl">
                  <div>
                    {%- assign value = 'customer.reset_password.submit' | t -%}
                    {%- render 'button', type: 'submit', value: value -%}
                    {%- assign value = nil -%}
                  </div>
                </div><!-- /.form__actions -->
              {%- endform -%}
            </form-validation>
          </div><!-- /.form__body -->
        </div><!-- /.form__content -->
      </div><!-- /.form__inner -->
    </div><!-- /.form-customer form-customer--reset -->
  </div><!-- /.customer__inner -->
</div><!-- /.customer -->

